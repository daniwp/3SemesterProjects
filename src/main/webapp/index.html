<!DOCTYPE html>
<html ng-app="DemoApp" ng-controller="CarController as ctrl">
<head lang="en">
    <meta charset="UTF-8">
    <title>{{ctrl.title}}</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
    <script src="https://code.angularjs.org/1.4.7/i18n/angular-locale_da.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
<div class="container">

    <h1>{{ctrl.title}}</h1>
    <h2>Number of cars: {{ctrl.cars.lenght}}</h2>
    <input type="search" ng-model="carfilter" placeholder="Filter cars">


    <div>
        <div class="col-md-9">
            <table class="table">
                <thead>
                <tr>
                    <td>ID</td>
                    <td><a href="" ng-click="ctrl.predicate = 'year'; ctrl.reverse=!ctrl.reverse">Year</a></td>
                    <td><a href="" ng-click="ctrl.predicate = 'registered'; ctrl.reverse=!ctrl.reverse">Registered</a></td>
                    <td><a href="" ng-click="ctrl.predicate = 'make'; ctrl.reverse=!ctrl.reverse">Make</a></td>
                    <td><a href="" ng-click="ctrl.predicate = 'model'; ctrl.reverse=!ctrl.reverse">Model</a></td>
                    <td><a href="" ng-click="ctrl.predicate = 'description'; ctrl.reverse=!ctrl.reverse">Description</a></td>
                    <td><a href="" ng-click="ctrl.predicate = 'price'; ctrl.reverse=!ctrl.reverse">Price</a></td>
                    <td><a>Action</a></td>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="car in ctrl.cars | filter: carfilter | orderBy:ctrl.predicate:ctrl.reverse">
                    <td>{{car.id}}</td>
                    <td>{{car.year }}</td>
                    <td>{{car.registered | date }}</td>
                    <td>{{car.make}}</td>
                    <td>{{car.model}}</td>
                    <td>{{car.description}}</td>
                    <td>{{car.price | currency}}</td>
                    <td>
                        <a ng-click="ctrl.setEditTrue(getCarIndex(car))">edit</a> |
                        <a ng-click="ctrl.removeCar(getCarIndex(car))">delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
            <h4>Sort Column: {{ctrl.predicate}}</h4>
            <h4>Reverse: {{ctrl.reverse}}</h4>
        </div>

        <div class="col-md-3" style="border: thin lightblue solid; border-radius: 5px;padding: 1em;">

            <p> Add your Form here</p>

            <form class="form-horizontal" novalidate>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="year">Year:</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" ng-model="year" id="year" placeholder="{{ctrl.placeholder.yearPH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="registered">Reg.:</label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" ng-model="registered" id="registered" placeholder="{{ctrl.placeholder.registeredPH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="make">Make:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" ng-model="make" id="make" placeholder="{{ctrl.placeholder.makePH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="model">Model:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" ng-model="model" id="model" placeholder="{{ctrl.placeholder.modelPH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="description">Descr.:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" ng-model="description" id="description" placeholder="{{ctrl.placeholder.descriptionPH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="price">Price:</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" ng-model="price" id="price" placeholder="{{ctrl.placeholder.pricePH}}" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button ng-hide="ctrl.edit" ng-click="ctrl.addCar()" type="submit" class="btn btn-success">Add</button>
                        <button ng-show="ctrl.edit" ng-click="ctrl.editCar()" type="submit" class="btn btn-success">Edit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>