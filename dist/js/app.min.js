"use strict";angular.module("myApp",["ui.router","ui.bootstrap","ngAnimate","toastr"]),angular.module("myApp").config(function($stateProvider,$urlRouterProvider,$urlMatcherFactoryProvider){$urlRouterProvider.otherwise("/"),$urlMatcherFactoryProvider.caseInsensitive(!0),$urlMatcherFactoryProvider.strictMode(!1),$stateProvider.state("home",{url:"/",templateUrl:"app/views/home/home.html",controller:"ListController"}).state("add",{url:"/add",templateUrl:"app/views/add/add.html",controller:"AddController"}).state("edit",{url:"/edit/:id",templateUrl:"app/views/edit/edit.html",controller:"EditController"})}),angular.module("myApp").config(function(toastrConfig){angular.extend(toastrConfig,{positionClass:"toast-bottom-left",timeOut:1500})}),angular.module("myApp").constant("cfg",{baseurl:"http://localhost:3000/"}),angular.module("myApp").controller("MainController",["$scope",function($scope){$scope.navbarCollapsed=!0}]),angular.module("myApp").directive("exampleDirective",function(){return{restrict:"EA",templateUrl:"app/directives/templates/example-directive.html",scope:{value:"@"}}}),angular.module("myApp").factory("CarFactory",[function(){var cars=[{id:1,year:1997,registered:new Date(1999,3,15),make:"Ford",model:"E350",description:"ac, abs, moon",price:3e3},{id:2,year:1999,registered:new Date(1996,3,12),make:"Chevy",model:"Venture",description:"None",price:4900},{id:3,year:2e3,registered:new Date(199,12,22),make:"Chevy",model:"Venture",description:"",price:5e3},{id:4,year:1996,registered:new Date(2002,3,15),make:"Jeep",model:"Grand Cherokee",description:"Moon roof",price:4799}],nextId=5,getCar=function(id){for(var i=0;i<cars.length;i++)if(cars[i].id==id)return cars[i]},getCars=function(){return cars},deleteCar=function(id){for(var i=0;i<cars.length;i++)if(cars[i].id===id)return void cars.splice(i,1)},addEditCar=function(newcar){if(null==newcar.id)newcar.id=nextId++,cars.push(newcar);else for(var i=0;i<cars.length;i++)if(cars[i].id===newcar.id){cars[i]=newcar;break}};return{getCar:getCar,getCars:getCars,deleteCar:deleteCar,addEditCar:addEditCar}}]),angular.module("myApp").controller("AddController",["$scope","$state","CarFactory","toastr",function($scope,$state,CarFactory,toastr){$scope.addCar=function(newcar){CarFactory.addEditCar(newcar),$state.go("home"),toastr.success("The car was successfully added to the fake db","Car added!")}}]),angular.module("myApp").controller("EditController",["$state","$stateParams","$scope","toastr","CarFactory",function($state,$stateParams,$scope,toastr,CarFactory){$scope.newcar=CarFactory.getCar($stateParams.id),$scope.editCar=function(newcar){$scope.newcar.id=$stateParams.id,CarFactory.addEditCar(newcar),$state.go("home"),toastr.success("The car was successfully updated to the fake db","Car updated!")}}]),angular.module("myApp").controller("ListController",["$scope","toastr","CarFactory",function($scope,toastr,CarFactory){$scope.cars=CarFactory.getCars(),$scope.removeCar=function(id){CarFactory.deleteCar(id)},$scope.editCar=function(id){}}]);